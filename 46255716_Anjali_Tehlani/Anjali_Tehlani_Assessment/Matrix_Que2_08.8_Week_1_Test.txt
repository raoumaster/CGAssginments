#include<stdlib.h>
#include<stdio.h>
int main()
{
        int a,b;
        printf("\nEnter the number of rows : ");
        scanf("%d",&a);
        printf("\nEnter the number of columns : ");
        scanf("%d",&b);
        int arr[a][b];
        int i,j;
        if(a==b)
        {
                printf("\nEnter the matrix \n");
                for(i = 0; i < a; i++)
                {
                        for(j = 0; j <b; j++)
                        {
                                scanf("%d",&arr[i][j]);
                        }
                }


                printf("\nThe Matrix is \n");
                for(i = 0; i < a; i++)
                {
                        for(j = 0; j <b; j++)
                        {
                                printf("%d ",arr[i][j]);
                        }
                        printf("\n");
                }
                printf("\nSpiral Matrix is : ");
                int k = 0, l = 0;
                while(k <a && l <b)
                {
                        for(i = l; i < b; i++)
                        {
                                printf("%d ",arr[k][i]);
                        }
                        k++;
                        for(i = k; i < a; i++)
                        {
                                printf("%d ",arr[i][b-1]);
                        }
                        b--;
                        if(k < a)
                        {
                                for(i = b-1; i >= 0; --i)
                                {
                                        printf("%d ",arr[a-1][i]);
                                }
                                a--;
                        }
                        if(l < b)
                        {
                                for(i = a - 1; i >= k; i--)
                                {
                                        printf("%d ",arr[i][l]);
                                }
                                l++;
                        }
                }
        }
        else
        {
                printf("It is not a square matrix");
        }
        return 0;
}