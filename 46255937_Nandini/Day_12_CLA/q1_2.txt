/*
 * Code to take 3 or more command line arguments.
 * And to check for valid servername and portnumber.
 *
 */

#include <stdio.h>
#include<ctype.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, char *argv[]) {
        int i;
        if(argc > 3) {
                for(i = 1; i < argc; i++) {
                        printf("argv[%d] = %s \t",i,argv[i]);
                        char* token = strtok(argv[i],":");

                        printf("%s\t",token);
                        token = strtok(NULL, " ");
                        printf("%s\t",token);

                        int portnum,flag=0;
                        for(int i = 0; i < strlen(token); i++) {

                                if(isdigit(token[i])) {
                                        portnum = atoi(token);
                                }
                                else{
                                        printf("Invalid - It Contains alplanumeric values");
                                        break;
                                }

                                if(0 < portnum < 1023)
                                        flag=1;
                        }
                        if(flag==1)
                                printf("Valid Port Number\n");
                }
        }
        else
                printf("Invalid - It has Less than 3 Arguments");
}