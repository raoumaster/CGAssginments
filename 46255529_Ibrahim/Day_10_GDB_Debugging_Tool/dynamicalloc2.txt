/* Function to extract and store words in heap.
Should allocate memory for each word as per its length. */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define MAX 100

char text[MAX]; // User Input
int count = 1; //Number of Words
int i = 0; //Iterator
int j = 0; // Iterator for Words in Array of Strings
int length; //Length of word

int main()
{
    printf("Enter the text:");
    fgets(text, MAX, stdin);
    
    //Loop to count the number of Words
    while(text[i] != '\0')
    {
        if(text[i] == ' ')
        {
            count++;
        }
        i++;
    }
    // printf("%d",count);

    
    char **strings; //Array of Strings --> Double Pointer
    //Allocating Memory to Strings
    strings = calloc(count,sizeof(char *));
    
    char *token = strtok(text," ");
    while(token != NULL)
    {
        strings[j] = calloc(strlen(token), sizeof(char));
        strcpy(strings[j], token);
        printf("%s is stored in: %p\n",strings[j],(strings + j));
        j++;
        token = strtok(NULL, " ");
    }
    free(strings);
    return 0;
}
