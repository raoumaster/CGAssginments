/*write a program to accept the string and file name from the command line and search for the string in the specified file.*/

#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#define MAX 100
int search_string(char *fname,char *str) {FILE *fp;
int line_num=1;
int find_result = 0;
char temp[MAX];

if((fp = fopen(fname,"r")) == NULL){return(-1);
    
}

while(fgets(temp,100,fp)!=NULL){
    if((strstr(temp,str))!=NULL)
    {printf("Match found on line : %d\n",line_num);
    printf("\n%s\n",temp);
    find_result++;}
    line_num++;
    
}
if(find_result == 0){printf("\n couldn't find a match\n");
    
}
if(fp){fclose(fp);
    
}
return 0;
}


int main(int argc,char *argv[]){
    if(argc<2)
    {printf("Error please enter file name and string to search\n");
return -1;
        
    }
    //this if is for checking if the user has entered correct file name and
    //string
   
 int result;result = search_string(argv[1],argv[2]);
    
}

